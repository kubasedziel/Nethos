DROP TABLE IF EXISTS KONTRAHENT ;
DROP TABLE IF EXISTS CONTRACTOR ;
DROP TABLE IF EXISTS KONTO_BANKOWE;
DROP TABLE IF EXISTS ACCOUNT;

DROP SEQUENCE IF EXISTS kontrahent_seq;
DROP SEQUENCE IF EXISTS contractor_seq;
DROP SEQUENCE IF EXISTS konto_bankowe_seq;
DROP SEQUENCE IF EXISTS account_seq;

CREATE SEQUENCE contractor_seq MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE NOCYCLE;
CREATE SEQUENCE account_seq MINVALUE 1 START WITH 1 INCREMENT BY 1 NOCACHE NOCYCLE;

CREATE TABLE CONTRACTOR (
   id INT DEFAULT nextval('contractor_seq') NOT NULL PRIMARY KEY,
   name VARCHAR(100) NOT NULL,
   nip VARCHAR(11) NOT NULL
);

CREATE TABLE ACCOUNT (
   id INT DEFAULT nextval('account_seq') NOT NULL PRIMARY KEY,
   contractor_id INT,
   number VARCHAR(26) NOT NULL,
   active INT NOT NULL,
   default_account INT NOT NULL,
   virtual INT NOT NULL,
   verification_state INT,
   verification_date TIMESTAMP
);


INSERT INTO CONTRACTOR (name,nip) VALUES
    ('Zarząd Dróg i Zieleni w Gdańsku','5840900085'),
    ('LYRECO POLSKA S.A.','5212711056'),
    ('ZPM TS Sp. z o.o.','9571077874'),
    ('Merida Sp. z o.o.','8990024020'),
    ('Firma Krzak', '7272445205');

INSERT INTO ACCOUNT (contractor_id,number,active,default_account,virtual,verification_state,verification_date) VALUES
    (1,'30124012681111001062586774',1,1,0,1,'2019-01-01 01:02:03'),
    (2,'18124011121111001000261358',1,1,0,null,null),
    (3,'30124012681111001062586774',1,1,0,null,null),
    (3,'96109010980000000141228877',1,0,0,null,null),
    (3,'73124012681111001063102816',1,0,0,null,null),
    (3,'92109010980000000140296488',1,0,0,null,null),
    (3,'24124012681111001067852236',1,0,0,null,null),
    (4,'13103012890000000088620003',1,1,0,null,null),
    (4,'92820010216218150742731348',0,1,0,null,null),
    (4,'82150021659665252748870318',0,1,0,null,null),
    (4,'75124056868389315074760969',0,1,1,null,null),
    (4,'37130010493110949241487155',0,1,0,null,null),
    (4,'48909610149341085785996968',0,0,1,null,null),
    (5,'17114000001527010928203867',1,1,0,null,null),
    (5,'17114000001527010928201111',1,0,0,null,null);

